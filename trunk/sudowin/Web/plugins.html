<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html 	PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
	<head>
		<title>Sudo for Windows</title>
		<link href="css/default.css" rel="stylesheet" type="text/css" />
		<script type="text/javascript" src="scr/default.js"></script>
	</head>
	<body onload="onPageLoad();">
		<div id="divBody">
			
			<script type="text/javascript">
				writerHeader();
			</script>
			
			<div class="divSection">
				<span class="spanSectionHeader">
					Plugin architecture
				</span>
				<p class="pSectionText">
					Sudo for Windows is designed to be completely extensible.  Any developer 
					should be able to create their own authentication and authorization plugins.  
					Currently the sudo server only supports one plugin each, but will soon 
					support mutiple plugins for several authentication and authorization sources.
				</p>
			</div>
			<div class="divSection">
				<span class="spanSectionHeader">
					IAuthenticationPlugin
				</span>
				<p class="pSectionText">
					The IAuthenticationPlugin plugin authenticates the users invoking the sudo clients.  Currently 
					the interface only supports passphrase authentication.  The interface will be augmented 
					later in order to support certificates authentication.
				</p>
				<p class="pSectionText">
					Windows Vista Beta 2 and Windows Server 2003 make it possible that the passphrase the user 
					authenticates with does not even need to be their Windows passphrase.  This is possible because 
					processes are launched with the user's logon token, not their passphrase.
				</p>
				<p class="pSectionText">
					Sudo for Windows currently ships with an authentication plugin for authenticating users to 
					the local computer and Active Directory.
				</p>
			</div>
			<div class="divSection">
				<span class="spanSectionHeader">
					IAuthorizationPlugin
				</span>
				<p class="pSectionText">
					The IAuthorizationPlugin plugin authorizes the incoming sudo requests from clients.
				</p>
				<p class="pSectionText">
					Sudo for Windows currently ships with an authorization plugin for authorizing requests againt 
					a strongly typed XML file.  This file is called sudoers.xml and is located in the Server 
					sub-directory in the location where you installed Sudo for Windows.  This file could easily 
					be located on a network share or even accessible via a web URL.  Below is an explanation 
					of the XML schema that the sudoers.xml file adheres to.
				</p>
				<div class="divSubSection">
					<span class="spanSubSectionHeader">
						XmlAuthorizationPluginSchema_v0.1.xsd
					</span>
					(<a href="https://svn.sourceforge.net/svnroot/sudowin/trunk/sudowin/AuthorizationPlugins.Xml/XmlAuthorizationPluginSchema_v0.1.xsd">download</a>)
					<p class="pSectionText">
						The schema contains five main settings sections.  Each of these sections can 
						have settings defined directly on them, and the UserGroup and CommandGroup 
						sections can also contain child sections.
					</p>
					<p class="pSectionText" style="text-align:center; font-weight:bold;">
						Settings Sections
					</p>
					<table class="tablePretty">
						<tr>
							<td class="tdLabel">Default</td>
							<td class="tdBuffer"/>
							<td class="tdDescription">
								If a setting is not defined anywhere else 
								in the file, the default setting will be used.
							</td>
						</tr>
						<tr>
							<td class="tdLabel">User</td>
							<td class="tdBuffer"/>
							<td class="tdDescription">
								There can be one user section for every real user 
								account.
							</td>
						</tr>
						<tr>
							<td class="tdLabel">UserGroup</td>
							<td class="tdBuffer"/>
							<td class="tdDescription">
								Contains child user sections.
							</td>
						</tr>
						<tr>
							<td class="tdLabel">Command</td>
							<td class="tdBuffer"/>
							<td class="tdDescription">
								There can be as many command sections there are 
								commands and their different command options.
							</td>
						</tr>
						<tr>
							<td class="tdLabel">CommandGroup</td>
							<td class="tdBuffer"/>
							<td class="tdDescription">
								Contains child command sections.
							</td>
						</tr>
					</table>
					
					<p class="pSectionText" style="text-align:center; font-weight:bold;">
						Global Settings
					</p>
					
					<table class="tablePretty">
						<tr>
							<td class="tdLabel">privilegesGroup</td>
							<td class="tdBuffer"/>
							<td class="tdDescription">
								The group that users are put into in 
								order to facilitate privilege escalation.  
								This does not have to be the Administrators 
								group.
							</td>
						</tr>
						<tr>
							<td class="tdLabel">startTime</td>
							<td class="tdBuffer"/>
							<td class="tdDescription">
								The start of the time span during any given day when a given 
								command is allowed.  The format is HH:mm:ss.fffff.
							</td>
						</tr>
						<tr>
							<td class="tdLabel">endTime	</td>
							<td class="tdBuffer"/>
							<td class="tdDescription">
								The end of the time span during any given day when a given 
								command is allowed.  The format is HH:mm:ss.fffff.
							</td>
						</tr>
						<tr>
							<td class="tdLabel">invalidLogons</td>
							<td class="tdBuffer"/>
							<td class="tdDescription">
								The number of invalid logon attempts allowed during 
								a single sudo invocation before a penalty is assigned 
								that counts towards lockout.
							</td>
						</tr>
						<tr>
							<td class="tdLabel">timesExceeded<br />InvalidLogons</td>
							<td class="tdBuffer"/>
							<td class="tdDescription">
								The number of sudo invocations allowed that result 
								in an invalid logon penalty.
							</td>
						</tr>
						<tr>
							<td class="tdLabel">logonTimeout</td>
							<td class="tdBuffer"/>
							<td class="tdDescription">
								The number of seconds that a user's credentials
								are cached by the server.
							</td>
						</tr>
						<tr>
							<td class="tdLabel">invalidLogon<br />Timeout</td>
							<td class="tdBuffer"/>
							<td class="tdDescription">
								The timespan in seconds in which sudo invocations 
								that result in an invalid logon penalty are counted 
								against timesExceededInvalidLogons.
							</td>
						</tr>
						<tr>
							<td class="tdLabel">lockoutTimeout</td>
							<td class="tdBuffer"/>
							<td class="tdDescription">
								The number of seconds a user is locked out from using 
								sudo once they have hit the threshold determined by 
								timesExceededInvalidLogons.
							</td>
						</tr>
						<tr>
							<td class="tdLabel">loggingLevel</td>
							<td class="tdBuffer"/>
							<td class="tdDescription">
								The audit policy for sudo invocations.  Valid values are 
								'None', 'Success', 'Failure', and 'Both'.
							</td>
						</tr>
					</table>
					<p class="pSectionText" style="text-align:center; font-weight:bold;">
						User Settings
					</p>
					<table class="tablePretty">
						<tr>
							<td class="tdLabel">name</td>
							<td class="tdBuffer"/>
							<td class="tdDescription">
								The user's name.  The format is HostOrDomainName\UserName.
							</td>
						</tr>
						<tr>
							<td class="tdLabel">enabled</td>
							<td class="tdBuffer"/>
							<td class="tdDescription">
								Whether or not a user is currently enabled.  This allows you 
								to disable users' access to sudo without removing them from 
								the file.  Valid values are 'True' and 'False'.
							</td>
						</tr>
						<tr>
							<td class="tdLabel">allowAll<br />Commands</td>
							<td class="tdBuffer"/>
							<td class="tdDescription">
								Whether or not a user can sudo any command.  Valid values 
								are 'True' and 'False'.
							</td>
						</tr>
					</table>
					<p class="pSectionText" style="text-align:center; font-weight:bold;">
						Command Settings
					</p>
					<table class="tablePretty">
						<tr>
							<td class="tdLabel">path</td>
							<td class="tdBuffer"/>
							<td class="tdDescription">
								The path to the command.
							</td>
						</tr>
						<tr>
							<td class="tdLabel">enabled</td>
							<td class="tdBuffer"/>
							<td class="tdDescription">
								Whether or not a command is currently enabled.  This allows 
								you to disable commands without removing them from the file.  
								Valid values are 'True' and 'False'.
							</td>
						</tr>
					</table>
				</div>
			</div>
			<script type="text/javascript">
				writeFooter();
			</script>
		</div>
	</body>
</html>